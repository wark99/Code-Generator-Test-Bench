{"openapi":"3.1.0","info":{"title":"DeepHabitat API","description":"Welcome to the Deephabitat API, a powerful tool leveraging advanced AI to revolutionize how retailers manage and standardize their product data. # Introduction: This API is designed to help retailers and suppliers to manage and standardize their product data, extract products with similar characteristics based on some preferences (client matching) and generate moodboards from a series of items. # Usage: The API is RESTful and the endpoints are designed to be simple and easy to use with 4 petition endpoints and their correspondant endpoints to get the results from the petions. All petition endpoints will respond with a petition_id, which you need to use for the get endpoints. Once the status is DONE, you can download the results from the URLs provided by this endpoint. If not, the endpoint will output an error saying that the petition has failed or is not finished. 1. **Enhance Master Data**: In order to enhance master data, first you need to upload a file with the master data, using the endpoint enhance_master_data. This endpoint will try to enhance your data, either by standarizing your current cateogrization of items or proposing a new one. It also provides a json file with all the rules that need to be applied for increasing the SEO for each category detected. Once the petition has finished you can download the enhanced data and all other results from the URLs provided by this endpoint. 1.1 **Enhance Descriptions**: In order to enhance descriptions, you will need to have called the enhance_master_data endpoint first. Then you can use the petition id from the previous endpoint to enhance the individual descriptions. Notice that this process could take a long time to complete depending on the amount of items. Once the petition has finished you can download the enhanced data and all other results from the URLs provided by this endpoint. 2. **Client Matching**: The endpoint process_client_matching will help you filter the elements from a master data based on a prompt. You can help guide the system by uploading an image. To use it upload a new master data or use the previous petition id to use the enhance dataframe from previous endpoints. Once the petition has finished, you can download the data with the filtered items found using the URL provided by this endpoint. 3. **Moodboard Generation**: The endpoint generate_moodboard will help you generate moodboards from filtered data or a bunch of uploaded images. Once the petition is finished, you can download the generated moodboard from the URL provided by this endpoint.","contact":{"name":"StageInHome","url":"https://stageinhome.com/Contacto","email":"ml@stageinhome.com"},"version":2.1.0},"paths":{"/":{"get":{"tags":["server"],"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not Found"}}}},"/health":{"get":{"tags":["server"],"summary":"Ensure that the API is healthy","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not Found"}}}},"/enhance_master_data":{"post":{"tags":["deephabitat"],"summary":"Enhance Master Data from the information provided.","description":"Upload & Enhance Master Data in order to start the enhancement process.  \n    ### Inputs:\n    - master_data: Master Data File to be enhanced. Supported Content Types: [csv, xlsl].\n    - knowledge_base (Optional): A List of Knowledge Base Files to be used in the enhancement process. Supported Content Types: [csv, xlsl].\n        These files should be files that contain the knowledge base to be used in the enhancement process.\n        All information that you want to indicate to the system to be used in the enhancement process should be included in these files.\n        The information could be:\n         - Taxonomies that you would like the system to consider, such as categories, the different standard attributes for color, materials, styles, etc.\n         - Relationships that you would like the system to consider, like keywords describing styles, colors, etc.\n    ### Outputs:\n        - petition_id: Petition ID to track the process.\n    If no knowledge base files are uploaded, the system will try to propose an optimized version of master data.","operationId":"Enhance_Master_Data_enhance_master_data_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_Enhance_Master_Data_enhance_master_data_post"}}},"required":true},"responses":{"200":{"description":"Returns the Petition ID to track the process.","content":{"application/json":{"schema":{}}}},"404":{"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/enhance_data_with_descriptions":{"post":{"tags":["deephabitat"],"summary":"Enhance Descriptions from the information provided.","description":"Enhance Descriptions. Once the Enhancement of the Master data is finished, given the petition_id received in the previous step,\n    the system will enhance the descriptions of the items in the master data.\n    ### Inputs:\n    - petition_id: Petition ID from the `enhance_master_data`.\n    ### Outputs:\n        - petition_id: Petition ID to track the process.","operationId":"Enhance_Descriptions_enhance_data_with_descriptions_post","parameters":[{"name":"petition_id","in":"query","required":false,"schema":{"type":"integer","title":"Petition Id"}}],"responses":{"200":{"description":"Returns the Petition ID to track the process.","content":{"application/json":{"schema":{}}}},"404":{"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/process_client_matching":{"post":{"tags":["deephabitat"],"summary":"Client Matching for the information provided.","description":"Client Matching from CSV and images.  \n    ### Inputs:\n    - master_data: Master Data File to be enhanced. Supported Content Types: [csv, xlsl].\n    - user_promp(Obligatory): User Prompt to be used in the client matching process. Supported Content Types: [txt].\n        The prompt should be a text file with the information that you would like the system to consider in the client matching process.\n    - image_prompt (Optional): Image Prompt to be used in the client matching process. Supported Content Types: [jpg, jpeg, png].\n        The image prompt should be an image file with the information that you would like the system to consider in the client matching process.    \n    ### Outputs:\n        - client_matching_id: Petition ID to track the process.","operationId":"Process_Client_Matching_process_client_matching_post","parameters":[{"name":"petition_id","in":"query","required":false,"schema":{"type":"integer","title":"Petition Id"}},{"name":"user_prompt","in":"query","required":false,"schema":{"type":"string","maxLength":100,"default":"","title":"User Prompt"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"allOf":[{"$ref":"#/components/schemas/Body_Process_Client_Matching_process_client_matching_post"}],"title":"Body"}}}},"responses":{"200":{"description":"Returns the Petition ID to track the process.","content":{"application/json":{"schema":{}}}},"404":{"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/generate_moodboard":{"post":{"tags":["deephabitat"],"summary":"Generate Automatic Moodboard based on the information provided.","description":"Generate Automatic Moodboard based on the information provided.\n    If the information is a list of images, the system will generate a moodboard based on the images.\n    If the information is a csv file, the system will detect the images of those items and generate a moodboard based on those images.\n    Both inputs are optional but at least one needs to be filled. If not, no moodboard will be generated.\n    If both inputs are filled, the system will prioritize the images list.\n    ### Inputs:\n    - item_csv (Optional): CSV file with the information of the items to be included in the moodboard.\n    - item_images (Optional): List of images of the items to be included in the moodboard.\n    - moodboard_title (Optional): Title for the Moodboard.\n    - canvas_mode (Optional): Define the size of the canvas. Default: 'squared'. Options: ['squared', 'horizontal', 'vertical'].\n    - palette_mode (Optional): Define the form of the color palette. Default: 'rectangle'. Options: ['rectangle', 'circle'].\n    - background_mode (Optional): Define the type of background for the moodboard. Default: 'plain'. Options: ['plain', 'textured'].\n    ### Outputs:\n        - moodboard_id: Moodboard Petition ID to track the process.","operationId":"Generate_Automatic_Moodboard_generate_moodboard_post","parameters":[{"name":"moodboard_title","in":"query","required":false,"schema":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"default":"","title":"Moodboard Title"}},{"name":"canvas_mode","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/CanvasModes"}],"default":"squared","title":"Canvas Mode"}},{"name":"palette_mode","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/PaletteModes"}],"default":"rectangle","title":"Palette Mode"}},{"name":"background_mode","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/BackgroundModes"}],"default":"plain","title":"Background Mode"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"allOf":[{"$ref":"#/components/schemas/Body_Generate_Automatic_Moodboard_generate_moodboard_post"}],"title":"Body"}}}},"responses":{"200":{"description":"Returns the Petition ID to track the process.","content":{"application/json":{"schema":{}}}},"404":{"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/get_enhanced_data":{"get":{"tags":["deephabitat"],"summary":"Get the master data and appended all the enhanced data that the system proposed","description":"Get all the enhanced data that the system proposed for the master data.\n    ### Inputs:\n        - petition_id: Petition ID to track the process.\n    ### Outputs:\n        Returns a dictionary with all the URLs to download the enhanced data and the used taxonomies.\n        - enhanced_data_urls: List of URLs to download the enhanced data.\n        This data will contain right now the following structure\n            - Master Data Columns: Your master data is not touched, instead the system will append the enhanced columns.\n            - Enhanced Columns: The enhanced columns will be appended to the master data with 'Enhanced_' as prefix.\n            It will also contain another column with 'Validate_' as prefix with all the values false. \n            This was designed, to indicate a possible revision process, which could be unnecessary.\n        - seo_rules: A file of rules to increase the SEO, indicating the indices to apply that rules\n        - category_taxonomy: List of URLs to download the category taxonomy. \n            If you did provide a category taxonomy, this will be the same file. If you didn't, this will be the optimized version.\n        - attribute_taxonomy: List of URLs to download the attribute taxonomy.\n            If you did provide an attribute taxonomy, this will be the same file. If you didn't, this will be the optimized version.","operationId":"Get_Enhanced_Data_get_enhanced_data_get","parameters":[{"name":"petition_id","in":"query","required":true,"schema":{"type":"integer","title":"Petition Id"}}],"responses":{"200":{"description":"Returns a dictionary with all the URLs to download the enhanced data and the used taxonomies.","content":{"application/json":{"schema":{}}}},"404":{"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/get_enhanced_data_with_descriptions":{"get":{"tags":["deephabitat"],"summary":"Get the master data and appended all the enhanced descriptions that the system proposed","description":"Get all the enhanced descriptions that the system proposed for the master data.\n    ### Inputs:\n        - petition_id: Petition ID to track the process.\n    ### Outputs:\n        Returns a dictionary with the URLs to download the enhanced data with the descriptions.\n         - enhanced_data_urls: List of URLs to download the enhanced data with a new column with the enhanced descriptions.","operationId":"Get_Enhanced_Data_with_Descriptions_get_enhanced_data_with_descriptions_get","parameters":[{"name":"petition_id","in":"query","required":true,"schema":{"type":"integer","title":"Petition Id"}}],"responses":{"200":{"description":"Returns a dictionary with the URLs to download the enhanced data with the descriptions.","content":{"application/json":{"schema":{}}}},"404":{"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/get_client_matching":{"get":{"tags":["deephabitat"],"summary":"Get the filtered Data generated from the Client Matching based on the information provided.","description":"Get the filtered Data generated from the Client Matching based on the information provided.\n    ### Inputs:\n        - client_matching_id: Moodboard Petition ID to track the process.\n    ### Outputs:\n        Returns a dictionary with the URL to download a csv file with the filtered information.\n        - filtered_data: URL to download the filtered data in a CSV file.","operationId":"Get_Client_Matching_get_client_matching_get","parameters":[{"name":"client_matching_id","in":"query","required":true,"schema":{"type":"integer","title":"Client Matching Id"}}],"responses":{"200":{"description":"Returns a dictionary with the URL to download the filtered data.","content":{"application/json":{"schema":{}}}},"404":{"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/get_moodboard":{"get":{"tags":["deephabitat"],"summary":"Get the Moodboard generated based on the information provided.","description":"Get the Moodboard generated based on the information provided.\n    ### Inputs:\n        - moodboard_id: Moodboard Petition ID to track the process.\n    ### Outputs:\n        Returns a dictionary with the URL to download the moodboard.\n        - moodboard_url: URL to download the moodboard with PNG format.","operationId":"Get_Moodboard_get_moodboard_get","parameters":[{"name":"moodboard_id","in":"query","required":true,"schema":{"type":"integer","title":"Moodboard Id"}}],"responses":{"200":{"description":"Returns a dictionary with the URL to download the moodboard.","content":{"application/json":{"schema":{}}}},"404":{"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"BackgroundModes":{"type":"string","enum":["plain","textured"],"title":"BackgroundModes"},"Body_Enhance_Master_Data_enhance_master_data_post":{"properties":{"master_data":{"type":"string","format":"binary","title":"Master Data"},"knowledge_base":{"items":{"type":"string","format":"binary"},"type":"array","title":"Knowledge Base"}},"type":"object","required":["master_data"],"title":"Body_Enhance_Master_Data_enhance_master_data_post"},"Body_Generate_Automatic_Moodboard_generate_moodboard_post":{"properties":{"item_csv":{"type":"string","format":"binary","title":"Item Csv"},"item_images":{"items":{"type":"string","format":"binary"},"type":"array","title":"Item Images"}},"type":"object","title":"Body_Generate_Automatic_Moodboard_generate_moodboard_post"},"Body_Process_Client_Matching_process_client_matching_post":{"properties":{"master_data":{"type":"string","format":"binary","title":"Master Data"},"image_prompt":{"type":"string","format":"binary","title":"Image Prompt"}},"type":"object","title":"Body_Process_Client_Matching_process_client_matching_post"},"CanvasModes":{"type":"string","enum":["horizontal","vertical","squared"],"title":"CanvasModes"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PaletteModes":{"type":"string","enum":["rectangle","circle"],"title":"PaletteModes"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}